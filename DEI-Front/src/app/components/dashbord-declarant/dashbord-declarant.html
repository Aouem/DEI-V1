<div class="container-fluid p-4">

<button class="btn btn-outline-primary" (click)="goBack()">
  <i class="bi bi-arrow-left"></i> Retour
</button>


    <!-- En-tête -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">Tableau de bord - Déclarant</h2>
    <button class="btn btn-outline-danger" (click)="logout()">
      <i class="bi bi-box-arrow-right"></i> Déconnexion
    </button>
  </div>

  <!-- Infos utilisateur -->
  <div class="alert alert-info shadow-sm">
    <strong>Bienvenue,</strong> {{ currentUserId || 'Utilisateur' }} !
    <br>
    Vous pouvez déclarer et suivre vos incidents ici.
  </div>

  <!-- Cartes indicateurs -->
  <div class="row g-4">
    <!-- Incidents déclarés par l’utilisateur -->
    <div class="col-md-4">
      <div class="card text-center shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title">Mes incidents</h5>
          <p class="display-5 fw-bold text-primary">{{ incidents.length }}</p>
          <button class="btn btn-sm btn-primary" (click)="navigateTo('/incident-form')">
            <i class="bi bi-plus-circle"></i> Déclarer un incident
          </button>
        </div>
      </div>
    </div>

    <!-- Incidents en attente de validation -->
    <div class="col-md-4">
      <div class="card text-center shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title">En attente</h5>
          <p class="display-5 fw-bold text-warning">{{ pendingCount || 0 }}</p>
          <button class="btn btn-sm btn-outline-warning" (click)="navigateTo('/all-submissions')">
            <i class="bi bi-hourglass-split"></i> Voir mes incidents
          </button>
        </div>
      </div>
    </div>

    <!-- Incidents validés -->
    <div class="col-md-4">
      <div class="card text-center shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title">Validés</h5>
          <p class="display-5 fw-bold text-success">{{ resolvedCount || 0 }}</p>
          <button class="btn btn-sm btn-outline-success" (click)="navigateTo('/all-submissions')">
            <i class="bi bi-check-circle"></i> Voir mes incidents validés
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
