<!-- src/app/components/dashbord-declarant/dashbord-declarant.html -->
<div class="dashboard">
  <!-- Header -->
  <div class="dashboard-header">
    <h2>Bienvenue, {{ currentUser?.userName }}</h2>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <!-- Cartes -->
  <div class="cards-container">
    
    <!-- Carte incidents aujourd'hui -->
    <div class="card incidents-card">
      <div class="card-icon">⚠️</div>
      <div class="card-content">
        <h3>Incidents aujourd'hui</h3>
        <div class="incident-number" [ngClass]="getIncidentClass(todayIncidentCount)">
          {{ todayIncidentCount }}
        </div>
        <ul *ngIf="todayIncidentCount > 0">
          <li *ngFor="let key of severityKeys()" [style.color]="getSeverityColor(key)">
            Gravité {{ key }} : {{ severityCount[key] }}
          </li>
        </ul>
        <span *ngIf="todayIncidentCount > 0" class="big-blinking-lamp">💡</span>
      </div>
    </div>

    <!-- Carte formulaire d'incident -->
    <div class="card incident-card" (click)="navigateToIncidentForm()">
      <div class="card-icon">📝</div>
      <div class="card-content">
        <h3>Déclarer un incident</h3>
        <p>Remplir le formulaire d'incident</p>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <footer class="dashboard-footer">
    <span class="footer-text">HMB</span>
    <div class="bubbles">
      <span></span><span></span><span></span><span></span><span></span>
    </div>
  </footer>
</div>
